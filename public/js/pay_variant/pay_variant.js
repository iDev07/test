(function($){samo.pay_variant=function(){var CLAIM=$('#pay_variant').data('claim');if(samo.ROUTES.psbank){$.require(samo.ROUTES.WWWROOT+'public/js/psbank/psbank.js');}
if(samo.ROUTES.invoice){$.require(samo.ROUTES.WWWROOT+'public/js/invoice/invoice.js');}
if(samo.ROUTES.bonus_manager){$('#pay_variant .v_bonus_manager').on('click',function(){$.getScript(samo.ROUTES.bonus_manager.url+$.param({claim:CLAIM,samo_action:'showUseBonusForm'}));});}
$.require(samo.ROUTES.WWWROOT+'public/js/acquiring.js');var acquiringModules=['psbank','liqpay','alfabank','yookassa','openbank','processing_kz','psb','uniteller','platron','sberbank','fortebank','promised_payment','payqr','tinkoff','rsbank','pay_certificate','deposit','mtsbank','paykeeper','cloudpayments','mbankkg','kaspiqr','halykbank','mkb','payler','raifpay','ameria'];$.each(acquiringModules,function(){var acquiringModule=this;if(typeof samo.ROUTES[acquiringModule]!='undefined'){$.require(samo.ROUTES.WWWROOT+'public/js/'+acquiringModule+'/'+acquiringModule+'.js',function(){$('#pay_variant .v_'+acquiringModule).on('click',function(){let merchant=$(this).data('merchant');acquiringCheckRequest(acquiringModule,merchant);});});}});acquiringCheckRequest=function(module,merchant){$.getScript(samo.ROUTES[module].url+$.param({CLAIM:CLAIM,samo_action:'CHECK',merchant:merchant}));};$('#invoice_'+CLAIM).on('click',function(e){e.preventDefault();e.stopPropagation();acquiringCheckRequest('invoice',null);});};$(samo.pay_variant);})(samo.jQuery);