(function($){const cookies=function(){this.get=function(name){let value=false;const cookie=document.cookie;if(cookie.length>0){if(cookie.match(new RegExp(name+'=([^;]*)','g'))){value=RegExp.$1;}}
return value;};this.set=function(name,value,expire){if(!this.is_enabled()){return false;}
const expireDate=new Date((new Date())+expire);document.cookie=name+'='+value+';expires='+expireDate.toUTCString()+';';return true;};this.remove=function(name){if(document.cookie){document.cookie=name+'='+this.get(name)+';expires=Thu, 01-Jan-1970 00:00:01 GMT;';return true;}
return false;};this.is_enabled=function(){if(typeof navigator.cookieEnabled!='undefined'){return navigator.cookieEnabled;}
this.set('testcookie','testvalue',1000);if(!document.cookie){return false;}
this.remove('testcookie');return true;};};$(function(){const cookie=new cookies();if(cookie.is_enabled()){samo.helpalt_field($('.logon-wrapper'));const $autoregisration=$('.bron-person-autoregistration'),$CLAIM=$('#CLAIM');$autoregisration.msgBullet({bulletText:$autoregisration.attr('title'),bulletType:'info',bulletPosition:'topLeft',showOn:'focus'});if($CLAIM.length){if($autoregisration.length){$autoregisration.get(0).focus();}else{$CLAIM.get(0).focus();}
$CLAIM.on('change blur',function(){const $forgot=$('#loginForm .forgot');const defaultHref=$forgot.data('href')||$forgot.attr('href');$forgot.data('href',defaultHref);$forgot.attr('href',defaultHref+'&email='+encodeURIComponent(this.value));});window.setTimeout(function(){$('.flash_message').fadeOut('slow');},5000);$('#loginForm').on('submit',function(e){$('#CLAIM,#WORDPASSWORD',this).each(function(){if(!$(this).val()){e.preventDefault();e.stopPropagation();$(this).addClass('error').get(0).focus();}else{$(this).removeClass('error');}});});}
$(window).on('beforeunload',function(){$.event.trigger('ajaxStart');});}else{$('#loginForm input').prop('disabled',true);$('.cookie_help').css('display','block');}
$('#recaptcha').on('click',samo.recaptcha);$('#showpasswd').on('change',function(){if($(this).is(':checked')){$('#WORDPASSWORD').clone().attr('type','text').insertAfter('#WORDPASSWORD').prev().remove();}
else{$('#WORDPASSWORD').clone().attr('type','password').insertAfter('#WORDPASSWORD').prev().remove();}})});})(samo.jQuery);