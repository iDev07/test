(function($){samo.aviaticket_cost=function(){var $module_container=$('#aviaticket_cost');$module_container.find('.load').on('click',function(e){if(checkInput()){var $link=$(this);var href=$('#SPRAVKA_FORM').attr('action');$link.attr('href',href);$link.data('post-form','#SPRAVKA_FORM');samo.delayed_download(e);$link.removeData('post-form');$module_container.find('.peoples input').prop('disabled',true);}});$module_container.find('.peoples input.selector').on('click',function(){var $checkboxField=$(this),$textField=$(this).parents('.people-row').find('input.tourist');$textField.prop('disabled',!$checkboxField.prop('checked'));});function checkInput(){var is_ok=true,counter=0;$module_container.find('.peoples').find('tr').each(function(){var $tr=$(this);var $textField=$tr.find('input.tourist');var $checkboxField=$tr.find('input.selector');if($checkboxField.is(':checked')){if($textField.val().trim()===''){$textField.errorField(samo.i18n('AV_NO_PEOPLE_NAME'));is_ok=false;return false;}
counter++;}});if(counter===0){$.notify(samo.i18n('AV_NO_PEOPLE_SELECTED'))
is_ok=false;}
return is_ok;}};$(samo.aviaticket_cost);})(samo.jQuery);